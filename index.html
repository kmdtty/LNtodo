<!doctype html>
<html>
<head>
<script type="text/javascript" src="./js/rsvp-2.0.4.js"></script>
<script type="text/javascript" src="./js/jio-latest.js"></script>
<script type="text/javascript" src="./js/renderjs-latest.js"></script>
</head>
<body>
<p>TODO List</p>
<script type="text/javascript">
(function (jIO) {
    var storage = jIO.createJIO({"type": "indexeddb", "database": "foo"});
    console.log(storage);
    console.dir(storage.allDocs());
    console.log('alldocs:' + storage.allDocs());
    function foo(message) {
        return storage.put("start", message)
        .push(function (result) {
            console.log('1st:' + result);
            return storage.get("start");
        })
        .push(function (result) {
            console.log('2nd:' + result);
        }, function (error) {
            console.warn(error);
            throw error;
        });
    }
    return foo("hello");
}(jIO));
</script>
</body>
</html>
